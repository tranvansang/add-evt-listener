export function addEvtListener(target, event, handler, option) {
    let removed = false;
    target.addEventListener(event, handler, option);
    return () => void (removed ||= target.removeEventListener(event, handler, option) || true);
}
export function addEvtListenerSelf(target, event, handler, option) {
    return addEvtListener(target, event, ((evt, ...args) => {
        const { target, currentTarget } = evt;
        if (target === currentTarget)
            handler(evt, ...args);
    }), option);
}
export function addEvtListenerSelfOnce(target, event, handler, option) {
    const remove = addEvtListener(target, event, ((evt, ...args) => {
        const { target, currentTarget } = evt;
        if (target === currentTarget) {
            remove();
            handler(evt, ...args);
        }
    }), option);
    return remove;
}
export function addEvtListenerOnce(target, event, handler, option) {
    const remove = addEvtListener(target, event, ((...args) => {
        remove();
        handler(...args);
    }), option);
    return remove;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFjQSxNQUFNLFVBQVUsY0FBYyxDQUs3QixNQUFjLEVBQ2QsS0FBWSxFQUNaLE9BQWdCLEVBQ2hCLE1BQTZDO0lBRTdDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQTtJQUNuQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQTtJQUMvQyxPQUFPLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEtBQUssTUFBTSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUE7QUFDM0YsQ0FBQztBQU9ELE1BQU0sVUFBVSxrQkFBa0IsQ0FLakMsTUFBYyxFQUNkLEtBQVksRUFDWixPQUFnQixFQUNoQixNQUE2QztJQUU3QyxPQUFPLGNBQWMsQ0FDcEIsTUFBTSxFQUNOLEtBQUssRUFDTCxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUU7UUFDakIsTUFBTSxFQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUMsR0FBRyxHQUFHLENBQUE7UUFDbkMsSUFBSSxNQUFNLEtBQUssYUFBYTtZQUFFLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQTtJQUNwRCxDQUFDLENBQXVCLEVBQ3hCLE1BQU0sQ0FDTixDQUFBO0FBQ0YsQ0FBQztBQUVELE1BQU0sVUFBVSxzQkFBc0IsQ0FLckMsTUFBYyxFQUNkLEtBQVksRUFDWixPQUFnQixFQUNoQixNQUE2QztJQUU3QyxNQUFNLE1BQU0sR0FBRyxjQUFjLENBQzVCLE1BQU0sRUFDTixLQUFLLEVBQ0wsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFO1FBQ2pCLE1BQU0sRUFBQyxNQUFNLEVBQUUsYUFBYSxFQUFDLEdBQUcsR0FBRyxDQUFBO1FBQ25DLElBQUksTUFBTSxLQUFLLGFBQWEsRUFBRTtZQUM3QixNQUFNLEVBQUUsQ0FBQTtZQUNSLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQTtTQUNyQjtJQUNGLENBQUMsQ0FBdUIsRUFDeEIsTUFBTSxDQUNOLENBQUE7SUFDRCxPQUFPLE1BQU0sQ0FBQTtBQUNkLENBQUM7QUFFRCxNQUFNLFVBQVUsa0JBQWtCLENBS2pDLE1BQWMsRUFDZCxLQUFZLEVBQ1osT0FBZ0IsRUFDaEIsTUFBNkM7SUFFN0MsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUM1QixNQUFNLEVBQ04sS0FBSyxFQUNMLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFO1FBQ1osTUFBTSxFQUFFLENBQUE7UUFDUixPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQTtJQUNqQixDQUFDLENBQXVCLEVBQ3hCLE1BQU0sQ0FDTixDQUFBO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZCxDQUFDIn0=